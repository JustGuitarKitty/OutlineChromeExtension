<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Установка Outline Proxy</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a2e;
      color: #eee;
      padding: 40px;
      line-height: 1.6;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    h2 {
      font-size: 20px;
      margin: 30px 0 15px;
      color: #667eea;
    }

    p {
      margin-bottom: 15px;
      color: #bbb;
    }

    .step {
      background: #16213e;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .step-number {
      display: inline-block;
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      text-align: center;
      line-height: 28px;
      font-weight: 600;
      margin-right: 10px;
    }

    .step-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    code {
      background: #0f0f23;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
    }

    pre {
      background: #0f0f23;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 10px 0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
    }

    .download-btn {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      margin: 10px 0;
    }

    .download-btn:hover {
      opacity: 0.9;
    }

    .note {
      background: #78350f;
      border: 1px solid #f59e0b;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }

    .note-title {
      color: #fbbf24;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .tab {
      padding: 10px 20px;
      background: #16213e;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid transparent;
    }

    .tab.active {
      border-color: #667eea;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Установка Outline Proxy</h1>

    <p>
      Для работы расширения необходимо установить нативный компонент,
      который будет создавать зашифрованное соединение с VPN сервером.
    </p>

    <div class="tabs">
      <div class="tab active" data-tab="windows">Windows</div>
      <div class="tab" data-tab="linux">Linux</div>
      <div class="tab" data-tab="macos">macOS</div>
    </div>

    <!-- Windows -->
    <div class="tab-content active" id="windows">
      <div class="step">
        <div class="step-title"><span class="step-number">1</span>Скачайте установщик</div>
        <p>Скачайте и распакуйте архив с нативным компонентом:</p>
        <a href="https://github.com/user/outline-extension/releases" class="download-btn">
          Скачать для Windows
        </a>
      </div>

      <div class="step">
        <div class="step-title"><span class="step-number">2</span>Запустите установку</div>
        <p>Откройте PowerShell от имени администратора и выполните:</p>
        <pre>cd C:\путь\к\распакованной\папке
.\install.bat</pre>
      </div>

      <div class="step">
        <div class="step-title"><span class="step-number">3</span>Перезапустите браузер</div>
        <p>Закройте и откройте Chrome заново для применения изменений.</p>
      </div>
    </div>

    <!-- Linux -->
    <div class="tab-content" id="linux">
      <div class="step">
        <div class="step-title"><span class="step-number">1</span>Скачайте и установите</div>
        <pre>curl -L https://github.com/user/outline-extension/releases/latest/download/install.sh | bash</pre>
      </div>

      <div class="step">
        <div class="step-title"><span class="step-number">2</span>Перезапустите браузер</div>
        <p>Закройте и откройте Chrome/Chromium заново.</p>
      </div>
    </div>

    <!-- macOS -->
    <div class="tab-content" id="macos">
      <div class="step">
        <div class="step-title"><span class="step-number">1</span>Скачайте и установите</div>
        <pre>curl -L https://github.com/user/outline-extension/releases/latest/download/install-macos.sh | bash</pre>
      </div>

      <div class="step">
        <div class="step-title"><span class="step-number">2</span>Перезапустите браузер</div>
        <p>Закройте и откройте Chrome заново.</p>
      </div>
    </div>

    <div class="note">
      <div class="note-title">Почему нужен нативный компонент?</div>
      <p>
        Chrome расширения не имеют доступа к низкоуровневым сетевым функциям.
        Нативный компонент создаёт локальный SOCKS5 прокси, через который
        браузер направляет трафик на VPN сервер с шифрованием Shadowsocks.
      </p>
    </div>

    <h2>Ручная установка</h2>
    <p>Если автоматическая установка не работает:</p>

    <div class="step">
      <div class="step-title">1. Скопируйте файлы</div>
      <p>Windows: <code>C:\Program Files\OutlineProxy\</code></p>
      <p>Linux: <code>~/.local/share/outline-proxy/</code></p>
      <p>macOS: <code>~/Library/Application Support/OutlineProxy/</code></p>
    </div>

    <div class="step">
      <div class="step-title">2. Зарегистрируйте Native Messaging Host</div>
      <p>Windows: добавьте ключ в реестр</p>
      <pre>HKEY_CURRENT_USER\Software\Google\Chrome\NativeMessagingHosts\com.outline.proxy</pre>
      <p>Linux/macOS: скопируйте manifest в</p>
      <pre>~/.config/google-chrome/NativeMessagingHosts/com.outline.proxy.json</pre>
    </div>
  </div>

  <script>
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });
  </script>
</body>
</html>
